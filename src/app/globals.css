@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-jetbrains-mono);
  --font-display: var(--font-space-grotesk);
  --color-neon-lime: var(--neon-lime);
  --color-electric-cyan: var(--electric-cyan);
}

@property --angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes rotate {
  to {
    --angle: 360deg;
  }
}

:root {
  --background: #F8FAFC;
  /* Premium Light Gray - Modern */
  --foreground: #0F172A;
  /* Slate-900 for strong contrast */

  /* Light Mode Theme: Vibrant Blue & Teal */
  --neon-lime: #3B82F6;
  /* Tailwind Blue-500 - Vibrant */
  --electric-cyan: #06B6D4;
  /* Tailwind Cyan-500 - Fresh */

  /* Text Contrast Variants */
  --neon-lime-text: #2563EB;
  /* Blue-600 for AA contrast */
  --electric-cyan-text: #0891B2;
  /* Cyan-600 for AA contrast */

  /* Gradient Accent */
  --gradient-primary: linear-gradient(135deg, #3B82F6 0%, #06B6D4 50%, #10B981 100%);
  --gradient-text: linear-gradient(135deg, #2563EB 0%, #0891B2 100%);

  /* Semantic Tokens */
  --card-bg: #FFFFFF;
  --card-border: #E2E8F0;
  --card-foreground: #0F172A;

  /* Enhanced Shadow Tokens */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.12), 0 8px 24px rgba(0, 0, 0, 0.08);
  --shadow-glow: 0 0 40px rgba(59, 130, 246, 0.2);
  --shadow-card: 0 4px 20px rgba(0, 0, 0, 0.06);
}

.dark {
  --background: #050505;
  /* Deep Void Black */
  --foreground: #fafafa;
  --neon-lime: #D4FF00;
  --electric-cyan: #00F0FF;

  /* Text Contrast Variants (Vibrant) */
  --neon-lime-text: #D4FF00;
  --electric-cyan-text: #00F0FF;

  /* Semantic Tokens - Solid Dark Aesthetic for "Newsletter" look */
  --card-bg: #0A0A0A;
  /* Solid dark grey to prevent light leaks */
  --card-border: rgba(255, 255, 255, 0.08);
  --card-foreground: #fafafa;

  /* Specialized Navigation Tokens */
  --nav-bg: rgba(5, 5, 5, 0.6);
  --menu-bg: linear-gradient(to bottom, #0A0A0A, #050505);
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.08);
}

.glass-premium {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
}

html {
  background: var(--background);
  touch-action: manipulation;
  user-select: none;
  /* Recommended for a native app feel, prevents text selection on long press */
}

/* Allow text selection only in specific areas like content or inputs if needed, 
   but for a "perfect" UI, sometimes it's best to keep it off globally and on for inputs */
input,
textarea,
[contenteditable="true"] {
  user-select: text;
}

body {
  background: var(--background);
  /* Light Mode: Technical Dot Grid */
  background-image: radial-gradient(#00000010 1px, transparent 1px);
  background-size: 24px 24px;

  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  overflow-x: hidden;
}

::selection {
  background-color: var(--neon-lime);
  color: #000;
}

.dark ::selection {
  background-color: var(--electric-cyan);
  color: #000;
}

.dark body {
  /* Dark Mode: Clean Void (handled by global-background or generic bg) */
  background-image: none;
}

/* Noise Texture Overlay */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 40;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  opacity: 0.03;
  /* 3% Opacity */
  mix-blend-mode: overlay;
}

/* Custom Scrollbar - World Class Polish */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--neon-lime);
  /* Adapts to Blue (Light) / Neon (Dark) */
  border-radius: 5px;
  border: 2px solid var(--background);
  /* Creates a 'floating' look */
}

::-webkit-scrollbar-thumb:hover {
  background: var(--electric-cyan);
  /* Interactive feedback */
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-display), var(--font-mono), monospace;
}

/* Animations */
@keyframes shimmer {
  from {
    transform: translateX(-100%);
  }

  to {
    transform: translateX(100%);
  }
}

/* Reduced Motion Support - Accessibility */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Mobile-First Improvements */
@media (max-width: 640px) {
  body {
    background-size: 20px 20px;
  }

  .container {
    padding-left: 1.25rem;
    padding-right: 1.25rem;
  }

  /* Refine Typography for extreme small screens */
  @media (max-width: 380px) {
    html {
      font-size: 14px;
    }
  }

  /* Disable heavy hover effects on touch devices */
  @media (hover: none) {
    .group:hover .group-hover\:scale-110 {
      transform: none;
    }

    .hover\:shadow-2xl:hover {
      box-shadow: var(--shadow-md);
    }
  }

  /* Reduce animation complexity on mobile */
  .blur-xl {
    filter: blur(8px);
    will-change: filter;
  }

  .blur-2xl,
  .blur-3xl {
    filter: blur(12px) !important;
  }

  /* Smaller gaps and padding */
  .gap-12 {
    gap: 1.5rem;
  }

  .gap-16 {
    gap: 2rem;
  }

  /* Simplify shadows */
  .shadow-lg,
  .shadow-xl,
  .shadow-2xl {
    box-shadow: var(--shadow-md) !important;
  }
}

/* Tablet Improvements */
@media (min-width: 641px) and (max-width: 1024px) {
  .container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

/* Touch Device Specific */
@media (hover: none) and (pointer: coarse) {

  /* Larger tap targets */
  a,
  button {
    min-height: 44px;
    min-width: 44px;
  }

  /* Disable parallax-like effects */
  .mix-blend-screen {
    mix-blend-mode: normal;
  }
}

/* High Performance Mode for Low-End Devices */
@media (prefers-reduced-motion: reduce),
(max-width: 480px) {

  .backdrop-blur-xl,
  .backdrop-blur-2xl,
  .backdrop-blur-3xl {
    backdrop-filter: blur(4px);
    /* Use theme-aware background instead of forced black */
    background-color: var(--card-bg) !important;
  }

  .blur-\[120px\],
  .blur-\[100px\] {
    display: none !important;
    /* Remove heavy bg glows on tiny screens */
  }

  * {
    text-rendering: optimizeSpeed !important;
  }
}

/* Applied via pre-hydration script, removed after mount */
html.no-transitions,
html.no-transitions *,
html.no-transitions *::before,
html.no-transitions *::after {
  transition: none !important;
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
}

/* Aggressive Thermal Optimization for Mobile */
@media (max-width: 768px) {

  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur-xl,
  .backdrop-blur-2xl,
  .backdrop-blur-3xl {
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
  }
}

@media (max-width: 480px) {

  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur-xl,
  .backdrop-blur-2xl,
  .backdrop-blur-3xl {
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
  }
}

/* Stable backgrounds during hydration */
html.no-transitions body,
html.no-transitions .dark body {
  background-color: var(--background) !important;
}

/* Utility classes */
.no-scrollbar::-webkit-scrollbar,
.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar,
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

@keyframes pulse-neon {
  0% {
    box-shadow: 0 0 0 0 rgba(212, 255, 0, 0.4);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(212, 255, 0, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(212, 255, 0, 0);
  }
}

.animate-pulse-neon {
  animation: pulse-neon 2s infinite;
}

@media (display-mode: standalone) {
  /* Future standalone optimizations */
}